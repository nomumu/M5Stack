set(IDF_PATH_CMAKE $ENV{IDF_PATH})
string(REPLACE "\\" "/" IDF_PATH_CMAKE "${IDF_PATH_CMAKE}")

set(COMPONENT_SRCDIRS "src" "src/utility" "src/Fonts")
set(COMPONENT_ADD_INCLUDEDIRS "src" "$ENV{IDF_PATH}/components/bt/host/bluedroid/api/include/api")
list(APPEND COMPONENT_REQUIRES "arduino")


register_component()


set(DEFINITIONS "ESP32")

if (CONFIG_M5STACK_BASIC OR CONFIG_M5STACK_GRAY OR CONFIG_M5STACK_FIRE)
    list(APPEND DEFINITIONS "M5STACK")
endif (CONFIG_M5STACK_BASIC OR CONFIG_M5STACK_GRAY OR CONFIG_M5STACK_FIRE)

if(CONFIG_M5STACK_FIRE)
    list(APPEND DEFINITIONS "M5STACK_FIRE")
endif(CONFIG_M5STACK_FIRE)

target_compile_definitions(${COMPONENT_TARGET} PUBLIC ${DEFINITIONS})
idf_build_set_property(COMPILE_OPTIONS "-Wno-error=unused-const-variable" APPEND)

